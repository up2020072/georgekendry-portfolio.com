---
layout: compress
---

<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: " en " }}">
{%- include head.html -%}
<body>
        {%- include header.html -%}
        <div class="main-container">
            {{ content }}
        </div>
         </div>
        {%- include footer.html -%}
     <script>
            var options = {
                classname: 'progressline',
                id: 'my-id'
            };
            var nanobar = new Nanobar( options );
            nanobar.go( 30 );
            nanobar.go( 76 );
            nanobar.go(100);
        </script>

   <div hidden id="snipcart" data-api-key="Y2I1NTAyNWYtMTNkMy00ODg0LWE4NDItNTZhYzUxNzJkZTI5NjM3MDI4NTUzNzYyMjQ4NzU0"></div>
   <script src="https://cdn.snipcart.com/themes/v3.0.0-beta.3/default/snipcart.js" defer></script>
   <script>
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on("init", user => {
        if (!user) {
          window.netlifyIdentity.on("login", () => {
            document.location.href = "/admin/";
          });
        }
      });
    }
  </script>
  {% if page.url == "/projects/" %}
  <script>
      document.addEventListener('DOMContentLoaded', function () {
      const genreButtons = document.querySelectorAll('.genre-button');
      const posts = document.querySelectorAll('.project-post');

      let selectedGenre = [];

      genreButtons.forEach(button => {
          button.addEventListener('click', function () {
              if (selectedGenre.includes(this.dataset.genre)) {
                  button.style.backgroundColor = 'var(--tag-button-background)';

                  selectedGenre = selectedGenre.filter(genre => genre != this.dataset.genre);
              } 
              else {
                selectedGenre.push(this.dataset.genre);

                genreButtons.forEach(button => {
                    button.style.backgroundColor = selectedGenre.includes(button.dataset.genre) ? 'var(--tag-button-highlight)' : 'var(--tag-button-background)';
                });
              }
              posts.forEach(post => {
                  const postGenres = post.dataset.genres.split(',');
                  post.style.display = (selectedGenre.length == 0 || postGenres.some(genre => selectedGenre.includes(genre))) ? 'block' : 'none';
              });
              console.log(selectedGenre);
          });
      });
  });

  </script>
  {% endif %}
  </body>
</html>